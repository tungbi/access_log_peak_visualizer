<!DOCTYPE html>
<html>
    <head>
        <title>Requests per second Chart</title>
        <script src="js/amcharts/amcharts.js" type="text/javascript"></script>
		<script src="js/amcharts/serial.js" type="text/javascript"></script>
		<script src="js/amcharts/themes/light.js"></script>
		<script src="js/amcharts/plugins/dataloader/dataloader.min.js" type="text/javascript"></script>
    </head>
    <body>
        <div id="chartdiv" style="width: 100%; height: 400px;"></div>
    </body>

    <script type="text/javascript">
    	

AmCharts.ready(function() {

	AmCharts.makeChart( "chartdiv", {
		type: "serial",
		theme: "light",
		marginRight: 80,
		autoMarginOffset: 20,	   
		dataLoader:  {
			url: "reqs_by_sec.csv",
			format: "csv",
			delimiter: ",",       // column separator
			useColumnNames: true, // use first row for column names
			skip: 1               // skip header row
		},
		categoryField: "Time",
		categoryAxis: {
		    parseDates: true,
		    dashLength: 1,
		    minPeriod: "ss",
		    minorGridEnabled: true
		},		
		valueAxes: [{
		    id: "v1",
		    axisAlpha: 0,
		    position: "left"
		}],
	    balloon: {
	        borderThickness: 1,
	        shadowAlpha: 0
	    },	   
		graphs: [{
			id: "g1",
			bullet: "round",
			bulletBorderAlpha: 1,
			bulletColor: "#FFFFFF",
			bulletSize: 5,
			hideBulletsCount: 50,
			lineThickness: 2,
			title: "Requests per second",
			useLineColorForBulletBorder: true,
			valueField: "Requests",
			balloonText: "<div style='margin:5px; font-size:19px;'><span style='font-size:13px;'>[[Time]]</span><br>[[Requests]] requests</div>"
		}],
		chartScrollbar: {
		    graph: "g1",
		    oppositeAxis:false,
		    offset:30,
		    scrollbarHeight: 80,
		    backgroundAlpha: 0,
		    selectedBackgroundAlpha: 0.1,
		    selectedBackgroundColor: "#888888",
		    graphFillAlpha: 0,
		    graphLineAlpha: 0.5,
		    selectedGraphFillAlpha: 0,
		    selectedGraphLineAlpha: 1,
		    autoGridCount:true,
		    color:"#AAAAAA"
		},
		chartCursor: {
		    pan: true,
		    valueLineEnabled: true,
		    valueLineBalloonEnabled: true,
		    cursorAlpha:0,
		    valueLineAlpha:0.2
		}

	});

});	    	
    </script>    
</html>